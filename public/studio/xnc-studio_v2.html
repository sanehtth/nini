<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>XNC Studio - Prompt & Motion Comic Composer</title>
  <link rel="stylesheet" href="theme-xnc.css">
  <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
  </head>
<body>
<header>
  <div>
    <h1>XNC Studio</h1>
    <div class="hint">Tab 1 tạo prompt + lưu ID. Tab 2 ghép khung motion comic từ clip bạn thả vào.</div>
  </div>
  <div class="pill" id="labelsStatus">Đang tải labels…</div>
</header>

<div class="wrap">
  <div class="tabs">
    <button class="tabbtn active" data-tab="prompt">TAB 1 · TẠO PROMPT VIDEO</button>
    <button class="tabbtn" data-tab="compose">TAB 2 · GHÉP KHUNG MOTION COMIC</button>
  </div>

  <section id="tab-prompt">
    <div class="grid">
      <div class="card">
        <h2>Thông tin prompt</h2>
        <label>Tên prompt</label>
        <input id="pName" placeholder="VD: Hook táo xuyên khung" />

        <div class="row">
          <div>
            <label>Prompt ID (tự sinh, bạn có thể sửa)</label>
            <input id="pId" class="mono" placeholder="P_T11_APPLE_HOOK" />
          </div>
          <div>
            <label>Type</label>
            <select id="pType">
              <option value="image_to_video">image_to_video</option>
              <option value="text_to_image">text_to_image</option>
              <option value="text_to_video">text_to_video</option>
            </select>
          </div>
        </div>

        <label>Tỷ lệ khung hình</label>
        <select id="pRatio">
          <option value="9:16">9:16 (Vertical)</option>
          <option value="16:9">16:9 (Cinema)</option>
          <option value="1:1">1:1 (Square)</option>
        </select>

        <div class="row">
          <div>
            <label>Nhân vật (label)</label>
            <select id="pChar"></select>
          </div>
          <div>
            <label>Biểu cảm (label)</label>
            <select id="pFace"></select>
          </div>
        </div>

        <div class="row">
          <div>
            <label>Hành động (label)</label>
            <select id="pAction"></select>
          </div>
          <div>
            <label>Bối cảnh (label)</label>
            <select id="pBg"></select>
          </div>
        </div>

        <div class="row">
          <div>
            <label>Góc máy</label>
            <select id="pCam"></select>
          </div>
          <div>
            <label>Phong cách</label>
            <select id="pStyle"></select>
          </div>
        </div>

        <div class="row">
          <div>
            <label for="pCamNote">Ghi chú góc máy (VI)</label>
            <input id="pCamNote" type="text" placeholder="VD: Góc thấp nhìn từ quả táo bay ra, camera bám theo..." />
          </div>
        </div>

        <div class="row">
          <div>
            <label>Biểu cảm chi tiết (Face Full)</label>
            <select id="pFaceFull"></select>
          </div>
          <div>
            <label>Vật thể (Object)</label>
            <select id="pObject"></select>
          </div>
        </div>

        <div class="row">
          <div>
            <label for="pObjectCustom">Vật thể tùy ý (VI)</label>
            <input id="pObjectCustom" type="text" placeholder="VD: quả táo, bóng bay, bánh bông lan..." />
          </div>
          <div>
            <label for="pObjectCount">Số lượng vật thể</label>
            <input id="pObjectCount" type="text" placeholder="VD: 1 quả, 3 quả, một rừng bóng..." />
          </div>
        </div>

        <div class="row">
          <div>
            <label>Tay nhân vật</label>
            <select id="pHand"></select>
          </div>
          <div>
            <label>Tư thế tay</label>
            <select id="pHandPose"></select>
          </div>
        </div>

        <label>Ghi chú (note)</label>
        <input id="pNote" placeholder="VD: Freeze 0.2s + whoosh + phập" />

        <div class="btnbar">
          <button class="primary" id="btnGen">Generate Prompt</button>
          <button id="btnCopy">Copy Prompt</button>
          <button id="btnSave">Save Prompt (Local)</button>
          <button id="btnExportPrompts">Export prompts.json</button>
          <button class="ghost" id="btnNew">New Prompt</button>
        </div>

        <div class="footer">
          <div class="small">
            Lưu prompt vào LocalStorage (nhẹ). Video/clip bạn tự quản bằng thư mục. Tab 2 chỉ ghép.
          </div>
        </div>
      </div>

      <div class="card">
        <h2>Prompt output</h2>
        <label>Prompt VI</label>
        <textarea id="pOut" placeholder="Nhấn Generate Prompt…"></textarea>
        <label>Prompt JSON (preview)</label>
        <textarea id="pJson" class="mono" readonly></textarea>

        <label>Kho prompts (Local)</label>
        <div class="list" id="promptList"></div>
      </div>
    </div>
  </section>

  <section id="tab-compose" class="hidden">
    <div class="grid">
      <div class="card">
        <div class="topbar">
          <h2>Scenes</h2>
          <div class="scene-actions">
            <button class="mini primary" id="btnAddScene">+ Add scene</button>
            <button class="mini" id="btnExportProject">Export project.json</button>
            <button class="mini ghost" id="btnImportProject">Import project.json</button>
            <input id="fileImportProject" type="file" accept="application/json" class="hidden" />
          </div>
        </div>

        <div class="small">
          Mỗi scene mặc định 5s. Thả clip MP4 vào từng scene. Tool sẽ lưu cấu hình ghép (layout, trim, fit) để bạn export JSON.
        </div>

        <div style="height:10px"></div>
        <div class="list" id="sceneList"></div>
      </div>

      <div class="card">
        <h2>Project preview & settings</h2>

        <div class="row">
          <div>
            <label>Aspect</label>
            <select id="projAspect">
              <option>9:16</option>
              <option>16:9</option>
              <option>1:1</option>
            </select>
          </div>
          <div>
            <label>FPS</label>
            <input id="projFps" type="number" value="30" min="12" max="60" />
          </div>
        </div>

        <label>Max seconds / scene</label>
        <input id="projMaxSec" type="number" value="5" min="1" max="20" />

        <label>Title</label>
        <input id="projTitle" placeholder="VD: T11 - Trả mẹ lại cho tao (Teaser)" />

        <div class="btnbar">
          <button id="btnSaveProject">Save project (Local)</button>
          <button class="ghost" id="btnClearProject">Clear project</button>
        </div>

        <label>Project JSON (preview)</label>
        <textarea id="projJson" class="mono" readonly></textarea>

        <div class="footer small">
          Ghi chú: Browser không xuất MP4 trực tiếp trong bản minimal này. Bạn export project.json để ghép bằng tool riêng / CapCut / pipeline của bạn.
        </div>
      </div>
    </div>
  </section>
</div>

<script src="xnc-studio.js"></script>
</body>

</html>
