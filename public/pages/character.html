<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ADN Tools</title>
  
</head>
<body>
  <div class="top">
    <div class="row">
      <h1>ADN Tools (Style / Background / Character / Outfit)</h1>
      <div style="flex:2"></div>
      <button class="btn secondary" id="btnValidate">Validate</button>
      <button class="btn" id="btnDownload">Download JSON</button>
    </div>
    <div class="row" style="margin-top:10px">
      <div>
        <label>Base path (đúng theo deploy của bạn)</label>
        <input id="basePath" value="/public" />
        <div class="muted">Ví dụ: nếu URL của bạn có dạng <b>/public/pages/...</b> thì base = <b>/public</b>.</div>
      </div>
      <div>
        <label>Series folder</label>
        <input id="seriesFolder" value="xomnganchuyen" />
      </div>
      <div>
        <label>File prefix</label>
        <input id="filePrefix" value="XNC" />
      </div>
      <div style="flex:0.7">
        <label>&nbsp;</label>
        <button class="btn" id="btnLoadAll">Load tab hiện tại</button>
      </div>
    </div>
    <div class="tabs">
      <button class="tab active" data-tab="style">Style</button>
      <button class="tab" data-tab="background">Background</button>
      <button class="tab" data-tab="character">Character</button>
      <button class="tab" data-tab="outfit">Outfit</button>
    </div>
  </div>

  <!-- STYLE -->
  <div class="card" id="panel-style">
    <h2 style="margin:0 0 10px;font-weight:800;color:var(--text-main)">Style</h2>
    <div class="grid3">
      <div>
        <label>Chọn template</label>
        <select id="styleTemplateSelect"></select>
        <div class="muted">Template nằm tại: <b>{base}/adn/templates/style_templates.json</b></div>
      </div>
      <div>
        <label>Brand primary</label>
        <input id="styleBrandPrimary" placeholder="#RRGGBB" />
      </div>
      <div>
        <label>Accent</label>
        <input id="styleAccent" placeholder="#RRGGBB" />
      </div>
    </div>
    <div class="grid">
      <div>
        <label>Art style (1 dòng)</label>
        <input id="styleArt" placeholder="2D anime/cartoon, soft shading, clean outlines..." />
      </div>
      <div>
        <label>Lighting & mood</label>
        <input id="styleLight" placeholder="warm daylight / cool night / rainy..." />
      </div>
      <div>
        <label>Color palette (csv)</label>
        <input id="stylePalette" placeholder="#ffeeaa,#112233,#..." />
      </div>
      <div>
        <label>Notes</label>
        <input id="styleNotes" placeholder="texture, line weight, background blur..." />
      </div>
    </div>
    <div class="row" style="margin-top:12px">
      <button class="btn" id="btnStyleToJson">Xuất style.json</button>
      <button class="btn secondary" id="btnStyleLoadJson">Load style.json</button>
      <input type="file" id="styleJsonFile" accept="application/json" />
    </div>
    <pre id="styleJsonOut" class="muted"></pre>
  </div>

  <!-- BACKGROUND -->
  <div class="card hide" id="panel-background">
    <h2 style="margin:0 0 10px;font-weight:800;color:var(--text-main)">Background</h2>
    <div class="grid">
      <div>
        <label>Tên background (id)</label>
        <input id="bgId" placeholder="ts_quantrasua_sang" />
      </div>
      <div>
        <label>Loại</label>
        <select id="bgType">
          <option value="outdoor">Ngoài trời</option>
          <option value="indoor">Trong nhà</option>
          <option value="both">Cả 2</option>
        </select>
      </div>
      <div>
        <label>Thời điểm</label>
        <select id="bgTime">
          <option value="morning">Sáng</option>
          <option value="afternoon">Chiều</option>
          <option value="evening">Tối</option>
          <option value="night">Đêm</option>
          <option value="flex">Linh động</option>
        </select>
      </div>
      <div>
        <label>Mô tả (1 dòng)</label>
        <input id="bgDesc" placeholder="Vỉa hè trước quán trà sữa Cô Hai, buổi sáng..." />
      </div>
      <div>
        <label>Chi tiết (tuỳ chọn)</label>
        <textarea id="bgDetails" placeholder="nội thất, vật dụng, ánh sáng, âm thanh, mùi..." ></textarea>
      </div>
      <div>
        <label>Tags (csv)</label>
        <input id="bgTags" placeholder="vietnamese,small_alley,street_food..." />
      </div>
    </div>
    <div class="row" style="margin-top:12px">
      <button class="btn" id="btnBgToJson">Xuất backgrounds.json (1 item)</button>
      <button class="btn secondary" id="btnBgLoadJson">Load XNC_backgrounds.json</button>
      <input type="file" id="bgJsonFile" accept="application/json" />
    </div>
    <pre id="bgJsonOut" class="muted"></pre>
  </div>

  <!-- CHARACTER -->
  <div class="card hide" id="panel-character">
    <h2 style="margin:0 0 10px;font-weight:800;color:var(--text-main)">Character</h2>
    <div class="grid">
      <div><label>ID</label><input id="cId" placeholder="bolo" /></div>
      <div><label>Tên hiển thị</label><input id="cName" placeholder="Bô-Lô" /></div>
      <div>
        <label>Giới tính</label>
        <select id="cGender"><option value="male">Nam</option><option value="female">Nữ</option><option value="other">Khác</option></select>
      </div>
      <div><label>Role (ngắn)</label><input id="cRole" placeholder="Thánh soi" /></div>
      <div><label>Mô tả base (EN hoặc VI)</label><textarea id="cBaseDesc" placeholder="Vietnamese primary school boy, small but tries to look cool..." ></textarea></div>
      <div>
        <label>Default accessories (csv)</label>
        <textarea id="cAccessories" placeholder="glasses, hair_roller, hair_clip..." ></textarea>
        <div class="muted">Phụ kiện cố định: kính, kẹp tóc, khoen tai, dây chuyền, đồng hồ...</div>
      </div>
      <div>
        <label>Outfit mặc định (id outfit)</label>
        <input id="cDefaultOutfit" placeholder="casual_boy_blue" />
        <div class="muted">Outfit là bảng chung, nhân vật chỉ tham chiếu id.</div>
      </div>
      <div>
        <label>Preferred actions (csv)</label>
        <textarea id="cActions" placeholder="adjust_glasses, point_accuse" ></textarea>
      </div>
      <div>
        <label>Preferred faces (csv)</label>
        <textarea id="cFaces" placeholder="smirk_proud, jaw_drop_shock" ></textarea>
      </div>
    </div>

    <div class="row" style="margin-top:12px">
      <button class="btn" id="btnCharToJson">Xuất characters.json (1 item)</button>
      <button class="btn secondary" id="btnCharLoadJson">Load {prefix}_characters.json</button>
      <input type="file" id="charJsonFile" accept="application/json" />
    </div>
    <pre id="charJsonOut" class="muted"></pre>
  </div>

  <!-- OUTFIT -->
  <div class="card hide" id="panel-outfit">
    <h2 style="margin:0 0 10px;font-weight:800;color:var(--text-main)">Outfit</h2>
    <div class="grid">
      <div><label>Outfit ID</label><input id="oId" placeholder="uniform_boy_primary" /></div>
      <div>
        <label>Loại</label>
        <select id="oCategory">
          <option value="uniform">Đồng phục</option>
          <option value="casual">Thường ngày</option>
          <option value="event">Sự kiện</option>
          <option value="seasonal">Theo mùa</option>
        </select>
        <div class="muted">Nếu là <b>uniform</b> thì ưu tiên khi scene ở trường.</div>
      </div>
      <div>
        <label>Gender fit</label>
        <select id="oGenderFit"><option value="unisex">Unisex</option><option value="male">Nam</option><option value="female">Nữ</option></select>
      </div>
      <div><label>Tên outfit</label><input id="oName" placeholder="Đồng phục tiểu học (nam)" /></div>
      <div><label>Mô tả (1-2 dòng)</label><textarea id="oDesc" placeholder="Áo trắng, quần xanh/đen, giày dép đơn giản, đúng kiểu học sinh VN..." ></textarea></div>
      <div><label>Colors (csv)</label><input id="oColors" placeholder="white,navy,black" /></div>
      <div><label>Props (csv)</label><textarea id="oProps" placeholder="school_bag, notebook, flip_flops..." ></textarea></div>
      <div>
        <label>Default accessories for this outfit (csv)</label>
        <textarea id="oAcc" placeholder="cap, ribbon, scarf..." ></textarea>
        <div class="muted">Đây là phụ kiện theo outfit (khác phụ kiện cố định của nhân vật).</div>
      </div>
    </div>

    <div class="row" style="margin-top:12px">
      <button class="btn" id="btnOutfitToJson">Xuất outfits.json (1 item)</button>
      <button class="btn secondary" id="btnOutfitLoadJson">Load {prefix}_outfits.json</button>
      <input type="file" id="outfitJsonFile" accept="application/json" />
    </div>
    <pre id="outfitJsonOut" class="muted"></pre>
  </div>

  <script src="../js/character.js"></script>
</body>
</html>
