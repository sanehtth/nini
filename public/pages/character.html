<!-- public/pages/character.html -->
<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>XNC ADN Tools</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:0;background:#fff}
    header{background:#d81b60;color:#fff;padding:14px 18px;font-weight:700}
    .wrap{display:flex;gap:14px;padding:14px}
    .left{width:320px;flex:0 0 320px}
    .card{border:1px solid #eee;border-radius:10px;padding:12px;margin-bottom:12px}
    label{display:block;font-size:12px;color:#444;margin:8px 0 6px}
    input,select,textarea,button{width:100%;box-sizing:border-box}
    input,select,textarea{border:1px solid #ddd;border-radius:8px;padding:10px;font-size:14px}
    textarea{min-height:260px;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tabbtn{border:1px solid #eee;background:#fafafa;border-radius:999px;padding:8px 12px;cursor:pointer;font-weight:600}
    .tabbtn.active{background:#111;color:#fff;border-color:#111}
    .right{flex:1}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .actions button{width:auto;padding:10px 12px;border-radius:8px;border:1px solid #ddd;background:#fff;cursor:pointer}
    .actions button.primary{background:#111;color:#fff;border-color:#111}
    .muted{color:#666;font-size:12px;line-height:1.4}
    .ok{color:#0a7;font-size:12px}
    .err{color:#c00;font-size:12px}
    .hr{height:1px;background:#eee;margin:10px 0}
  </style>
</head>
<body>
<header>Xóm Ngàn Chuyện – ADN Tools (Style / Background / Character / Outfit)</header>

<div class="wrap">
  <div class="left">
    <div class="card">
      <div class="muted"><b>Chọn ADN (folder)</b><br/>Ví dụ: <code>xomnganchuyen</code> → đọc từ <code>public/adn/xomnganchuyen/</code></div>
      <label>Series folder</label>
      <input id="seriesFolder" placeholder="xomnganchuyen" value="xomnganchuyen"/>
      <label>File prefix (mặc định XNC)</label>
      <input id="filePrefix" placeholder="XNC" value="XNC"/>
      <div class="actions">
        <button id="btnReload" class="primary">Load tab hiện tại</button>
      </div>
      <div id="status" class="muted" style="margin-top:8px"></div>
    </div>

    <div class="card">
      <div class="muted"><b>Tabs</b></div>
      <div class="tabs">
        <button class="tabbtn active" data-tab="style">Style</button>
        <button class="tabbtn" data-tab="backgrounds">Background</button>
        <button class="tabbtn" data-tab="characters">Character</button>
        <button class="tabbtn" data-tab="outfits">Outfit</button>
      </div>
      <div class="hr"></div>
      <div class="muted">
        Tip: Bạn có thể chỉnh JSON trực tiếp bên phải rồi bấm <b>Download</b> để lấy file đẩy lên GitHub.
      </div>
    </div>
  </div>

  <div class="right">
    <div class="card">
      <div class="row">
        <div>
          <div class="muted"><b>Đang mở</b></div>
          <div id="currentFile" style="font-weight:700;margin-top:6px"></div>
        </div>
        <div>
          <div class="muted"><b>Quick actions</b></div>
          <div class="actions">
            <button id="btnValidate">Validate JSON</button>
            <button id="btnDownload" class="primary">Download</button>
          </div>
        </div>
      </div>
      <label>JSON Editor</label>
      <textarea id="jsonEditor" spellcheck="false"></textarea>
      <div id="validateMsg" class="muted" style="margin-top:6px"></div>
    </div>

    <div class="card" id="helperCard">
      <div style="font-weight:700">Helper (tuỳ tab)</div>
      <div id="helper" class="muted" style="margin-top:8px"></div>
    </div>
  </div>
</div>

<script src="/js/character.js"></script>
</body>
</html>
