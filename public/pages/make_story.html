<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<title>AI Story Editor Demo</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f4f6f8;
        margin: 0;
        padding: 20px;
    }

    .container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        max-width: 1200px;
        margin: auto;
    }

    .box {
        background: #fff;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    h2 {
        margin-top: 0;
    }

    textarea {
        width: 100%;
        height: 150px;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
        resize: vertical;
    }

    button {
        padding: 8px 14px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        font-weight: bold;
    }

    .btn-main {
        background: #4CAF50;
        color: white;
    }

    .toolbar button {
        background: #eee;
    }

    .toolbar {
        display: flex;
        gap: 8px;
        margin-bottom: 10px;
    }

    .story-content {
        min-height: 300px;
        white-space: pre-wrap;
        line-height: 1.6;
        padding: 10px;
        border-radius: 8px;
        background: #fafafa;
    }

    .story-content.editing {
        border: 2px solid #4CAF50;
        background: #ffffff;
    }
</style>
</head>

<body>

<div class="container">

    <!-- C·ªòT TR√ÅI -->
    <div class="box">
        <h2>‚úçÔ∏è √ù t∆∞·ªüng c√¢u chuy·ªán</h2>
        <textarea id="storyInput">
Hai th·∫±ng ƒÉn tr·ªôm l√©n v√†o v∆∞·ªùn tr√°i c√¢y trong x√≥m...
        </textarea>

        <br><br>
        <button class="btn-main" onclick="generateStory()">ü§ñ G·ªçi AI vi·∫øt truy·ªán</button>
    </div>

    <!-- C·ªòT PH·∫¢I -->
    <div class="box">
        <h2>üìú K·∫øt qu·∫£ AI</h2>

        <!-- TOOLBAR -->
        <div class="toolbar">
            <button onclick="enableEdit()">‚úèÔ∏è S·ª≠a</button>
            <button onclick="saveEdit()" id="btnSave" disabled>üíæ L∆∞u</button>
            <button onclick="cancelEdit()" id="btnCancel" disabled>‚ùå H·ªßy</button>
        </div>

        <!-- N·ªòI DUNG -->
        <div id="finalStory" class="story-content">
Ch∆∞a c√≥ n·ªôi dung.
        </div>
    </div>

</div>

<script>
let backupText = "";

/* GI·∫¢ L·∫¨P AI (thay b·∫±ng API sau) */
function generateStory() {
    const idea = document.getElementById("storyInput").value;

    const fakeAIResult = `
[SCENE]
Hai th·∫±ng tr·ªôm r√≥n r√©n b∆∞·ªõc v√†o v∆∞·ªùn.

Tr·ªôm G√†: √ä m√†y, xo√†i ch√≠n k√¨a!
Tr·ªôm V·ªãt: Nh·ªõ coi ch·ª´ng ch·ªß nh√† ƒë√≥!

[SFX] Ti·∫øng ch√≥ s·ªßa xa xa...

(C√¢u chuy·ªán d·ª±a tr√™n √Ω t∆∞·ªüng: ${idea})
    `;

    const el = document.getElementById("finalStory");
    el.innerText = fakeAIResult;
    el.contentEditable = "false";
    el.classList.remove("editing");
}

/* B·∫¨T CH·∫æ ƒê·ªò S·ª¨A */
function enableEdit() {
    const el = document.getElementById("finalStory");
    backupText = el.innerText;

    el.contentEditable = "true";
    el.classList.add("editing");
    el.focus();

    document.getElementById("btnSave").disabled = false;
    document.getElementById("btnCancel").disabled = false;
}

/* L∆ØU */
function saveEdit() {
    const el = document.getElementById("finalStory");

    el.contentEditable = "false";
    el.classList.remove("editing");

    document.getElementById("btnSave").disabled = true;
    document.getElementById("btnCancel").disabled = true;

    alert("‚úÖ ƒê√£ l∆∞u n·ªôi dung ch·ªânh s·ª≠a!");
}

/* H·ª¶Y */
function cancelEdit() {
    const el = document.getElementById("finalStory");

    el.innerText = backupText;
    el.contentEditable = "false";
    el.classList.remove("editing");

    document.getElementById("btnSave").disabled = true;
    document.getElementById("btnCancel").disabled = true;
}
</script>

</body>
</html>
