<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>NINI – Trình tạo JSON & Manifest</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/makejson.css" />
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" />
</head>
<body>
  <div class="page-wrap">
    <!-- HEADER -->
    <header class="mj-header">
      <div class="mj-header-left">
        <img src="/assets/logonini.webp" alt="Nini logo" class="mj-logo" />
        <div>
          <h1 class="mj-title">Trình tạo JSON & Manifest</h1>
          <p class="mj-subtitle">
            Hệ thống build nội dung cho Nini – 6 phần / bài test • Đồng bộ GitHub
          </p>
        </div>
      </div>

      <div class="mj-header-actions">
        <button id="btnLoadSections"
                class="mj-btn ghost">Nạp sectionsManifest</button>
        <button id="btnBuildSectionsManifest"
                class="mj-btn ghost">Tạo sectionsManifest</button>
        <button id="btnBuildTestsManifest"
                class="mj-btn ghost">Tạo testsManifest</button>
        <button id="btnSyncGithub"
                class="mj-btn primary">Đồng bộ lên GitHub</button>
        <button id="btnExportAll"
                class="mj-btn ghost">Xuất toàn bộ dữ liệu</button>
      </div>
    </header>

    <!-- MAIN CARD -->
    <main class="mj-main">
      <section class="mj-card">
        <!-- Test name -->
        <div class="mj-field-row">
          <label for="testName" class="mj-label">Tên bài test (testName)</label>
          <input id="testName"
                 type="text"
                 class="mj-input"
                 placeholder="vd: FP8 - REVIEW 1 - TEST 2" />
        </div>

        <p class="mj-helper">
          Mỗi section sẽ có chung <strong>testName</strong>. Bạn dùng để nhận diện test trong
          <code>testsManifest</code> (Test1, Test2, FP8 – Review 1 – Test 2, ...).
        </p>

        <p id="manifestStatus" class="mj-status mj-status-warning">
          Chưa nạp manifest.
        </p>

        <!-- =============== PHẦN 1: VOCAB =============== -->
        <div class="mj-section-block">
          <h2 class="mj-section-title">
            <span class="mj-section-index">Phần 1:</span> Vocabulary
          </h2>
          <p class="mj-section-type">type: <code>mcqOneByOne</code></p>

          <div class="mj-field-row inline">
            <div class="mj-field-col">
              <label class="mj-label" for="p1Id">
                ID (tự nạp từ manifest):
              </label>
              <input id="p1Id"
                     type="text"
                     class="mj-input"
                     placeholder="vd: P1_001" />
            </div>
            <div class="mj-field-col">
              <label class="mj-label" for="p1Type">
                section.type
              </label>
              <input id="p1Type"
                     type="text"
                     class="mj-input"
                     value="mcqOneByOne"
                     readonly />
            </div>
          </div>

          <div class="mj-field-row">
            <label class="mj-label" for="p1Title">Title:</label>
            <input id="p1Title"
                   type="text"
                   class="mj-input"
                   placeholder="vd: Test 1 – Part 1 – Vocabulary" />
          </div>

          <div class="mj-field-row">
            <label class="mj-label" for="p1Desc">
              Description (mô tả ngắn – optional):
            </label>
            <textarea id="p1Desc"
                      class="mj-textarea small"
                      placeholder="Mô tả ngắn optional..."></textarea>
          </div>

          <div class="mj-field-row">
            <label class="mj-label" for="p1Content">
              Content JSON:
              <span class="mj-label-note">
                (Nhập nội dung thô, mỗi câu 1 object: {"question": "...", "answer": "..."} ...)
              </span>
            </label>
            <textarea id="p1Content"
                      class="mj-textarea"
                      placeholder='[{"question": "...", "answer": "..."}, ...]'></textarea>
          </div>

          <div class="mj-field-row inline align-bottom">
            <button id="btnBuildP1"
                    class="mj-btn primary">Tạo JSON phần 1</button>
            <div class="mj-field-col-grow">
              <label class="mj-label" for="p1Output">JSON output (Phần 1):</label>
              <textarea id="p1Output"
                        class="mj-textarea readonly"
                        readonly
                        placeholder="// Kết quả sẽ hiện ở đây..."></textarea>
            </div>
          </div>
        </div>

        <!-- =============== PHẦN 2: GRAMMAR =============== -->
        <div class="mj-section-block">
          <h2 class="mj-section-title">
            <span class="mj-section-index">Phần 2:</span> Grammar
          </h2>
          <p class="mj-section-type">type: <code>mcqImage</code></p>

          <div class="mj-field-row inline">
            <div class="mj-field-col">
              <label class="mj-label" for="p2Id">ID:</label>
              <input id="p2Id"
                     type="text"
                     class="mj-input"
                     placeholder="vd: P2_001" />
            </div>
            <div class="mj-field-col">
              <label class="mj-label" for="p2Type">section.type</label>
              <input id="p2Type"
                     type="text"
                     class="mj-input"
                     value="mcqImage"
                     readonly />
            </div>
          </div>

          <div class="mj-field-row">
            <label class="mj-label" for="p2Title">Title:</label>
            <input id="p2Title"
                   type="text"
                   class="mj-input"
                   placeholder="vd: Test 1 – Part 2 – Grammar" />
          </div>

          <div class="mj-field-row">
            <label class="mj-label" for="p2Desc">Description:</label>
            <textarea id="p2Desc"
                      class="mj-textarea small"></textarea>
          </div>

          <div class="mj-field-row">
            <label class="mj-label" for="p2Content">Content JSON:</label>
            <textarea id="p2Content"
                      class="mj-textarea"></textarea>
          </div>

          <div class="mj-field-row inline align-bottom">
            <button id="btnBuildP2"
                    class="mj-btn primary">Tạo JSON phần 2</button>
            <div class="mj-field-col-grow">
              <label class="mj-label" for="p2Output">JSON output (Phần 2):</label>
              <textarea id="p2Output"
                        class="mj-textarea readonly"
                        readonly></textarea>
            </div>
          </div>
        </div>

        <!-- =============== PHẦN 3–6 =============== -->
        <!-- Bạn có thể copy block trên và đổi id: p3Id/p3Title/... cho tới p6 -->
        <!-- hoặc giữ nguyên JS hiện tại nếu đã viết xong -->

        <!-- KHU VỰC LOG / STATUS CHUNG -->
        <div class="mj-log-block">
          <h3 class="mj-log-title">Log & trạng thái</h3>
          <textarea id="logArea"
                    class="mj-textarea log"
                    readonly
                    placeholder="// Log thao tác sẽ hiển thị ở đây..."></textarea>
        </div>
      </section>
    </main>
  </div>

  <!-- JS: dùng file JS hiện tại của bạn -->
  <script src="js/makejson.js"></script>
</body>
</html>

