<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>X√≥m Ng·∫Øn Chuy·ªán ‚Äì Pipeline Editor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: Arial; background:#111; color:#eee; margin:0 }
    header { background:#000; padding:10px; display:flex; gap:10px; border-bottom:1px solid #333 }
    header button { padding:8px 14px; background:#222; color:#eee; border:1px solid #444; cursor:pointer }
    header button.active { background:#444 }
    .tab { display:none; padding:16px }
    .tab.active { display:block }
    .box { border:1px solid #333; padding:12px; margin-bottom:12px }
    label { display:block; margin-top:8px }
    input, textarea, select { width:100%; background:#000; color:#eee; border:1px solid #444; padding:6px }
  </style>
</head>

<body>

<header>
  <button id="btnTab1" class="active">TAB 1 ‚Äì Story</button>
  <button id="btnTab2">TAB 2 ‚Äì Frame</button>
</header>

<!-- ================= TAB 1 ‚Äì SCENCE ================= -->
<div id="tab1" class="tab active">

  <h2>üìò TAB 1 ‚Äì Story</h2>

  <div class="box">
    <label>Ch·ªçn story</label>
    <select id="tab1_storySelect"></select>

    <label>Story ID</label>
    <input id="tab1_storyId">

    <label>Story Title</label>
    <input id="tab1_storyTitle">

    <label>Story Text</label>
    <textarea id="tab1_storyText"></textarea>
  </div>

  <div class="box">
  <button id="tab1_reloadManifestBtn">Reload manifest</button>
  <button id="tab1_loadStoryBtn">Load story</button>
  <button id="tab1_saveLocalBtn">L∆∞u story</button>
  <button id="tab1_splitBtn">T√°ch Scene</button>
  <button id="tab1_exportJsonABtn">Export JSON A</button>
</div>

  <div class="box">
    <pre id="tab1_previewBox"></pre>
  </div>

  <div class="box">
    <select id="tab1_sceneSelect"></select>
  </div>

</div>

<!-- ================= TAB 2 ‚Äì FRAME ================= -->
<div id="tab2" class="tab">

  <h2>üé¨ TAB 2 ‚Äì Scene ‚Üí Frame Editor</h2>

  <div class="box">
    <button id="tab2_load_local">Load t·ª´ Tab 1 (Local)</button>
    <button id="tab2_load_remote">Load t·ª´ JSON A (GitHub)</button>
    <button id="tab2_export">Xu·∫•t JSON cho Tab 3</button>
  </div>

  <div class="box">
    <label>Scene</label>
    <select id="tab2_sceneSelect"></select>
  </div>

  <div class="box">
    <label>Frame (1 tho·∫°i = 1 frame)</label>
    <select id="tab2_frameSelect"></select>

    <button id="tab2_mergeFrames">G·ªôp frame</button>
  </div>

  <div class="box">
    <label>Nh√¢n v·∫≠t</label>
    <input id="tab2_actor">

    <label>Tho·∫°i / N·ªôi dung</label>
    <textarea id="tab2_text"></textarea>

    <label>Camera</label>
    <select id="tab2_camera">
      <option value="closeup">Close-up</option>
      <option value="medium">Medium shot</option>
      <option value="wide">Wide shot</option>
    </select>

    <label>Emotion</label>
    <input id="tab2_emotion">

    <label>Outfit</label>
    <input id="tab2_outfit">

    <label>Note</label>
    <textarea id="tab2_note"></textarea>

    <button id="tab2_saveFrame">L∆∞u frame</button>
  </div>

  <div class="box">
    <pre id="tab2_debug"></pre>
  </div>

</div>
<!-- ================= TAB 3 ‚Äì AI VIDEO RENDER ================= -->

<script>
  window.qs = (id) => document.getElementById(id);

  window.appState = {
    characters: [],
    manifest: [],
    currentStory: null,
    storyDraft: null,
    scenes: [],
    dialogues: [],
    sfx: []
  };
</script>

<script src="tab1.js"></script>
<script src="tab2.js"></script>

<script>
  const tab1 = qs('tab1');
  const tab2 = qs('tab2');

  qs('btnTab1').onclick = () => {
    tab1.classList.add('active');
    tab2.classList.remove('active');
  };

  qs('btnTab2').onclick = () => {
    tab1.classList.remove('active');
    tab2.classList.add('active');
    if (window.initTab2) initTab2();
  };
</script>

</body>
</html>


