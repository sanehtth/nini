<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>XNC – Video From Story</title>
  <link rel="stylesheet" href="/dark.css">
  <style>
    .tab-btn { margin-right: 8px; }
    .tab { display: none; }
    .tab.active { display: block; }
    textarea { width: 100%; min-height: 140px; }
    select, input, button { width: 100%; margin: 4px 0; }
    pre { background:#111; padding:10px; }
  </style>
</head>
<body>

<!-- TAB SWITCH -->
<div>
  <button id="btnTab1" class="tab-btn">TAB 1 – Story</button>
  <button id="btnTab2" class="tab-btn">TAB 2 – Frame</button>
</div>

<!-- ================= TAB 1 ================= -->
<div id="tab1" class="tab active">
  <h2>TAB 1 – Story / Parser</h2>

  <label>Chọn truyện từ manifest</label>
  <select id="selManifest"></select>

  <button id="btnReloadManifest">Reload manifest</button>
  <button id="btnLoadStory">Load story</button>

  <label>Story ID</label>
  <input id="storyId">

  <label>Story Title</label>
  <input id="storyTitle">

  <label>Story Text</label>
  <textarea id="storyText"></textarea>

  <button id="btnParseStory">Tách Story</button>
  <button id="btnExportA">Xuất JSON A</button>
  <button id="btnSaveLocalA">Lưu local (Story A)</button>

  <h3>Preview JSON A</h3>
  <pre id="previewA"></pre>
</div>

<!-- ================= TAB 2 ================= -->
<div id="tab2" class="tab">
  <h2>TAB 2 – Frame Editor</h2>

  <button id="btnLoadLocalA">Load Story A (local)</button>
  <button id="btnSaveLocalB">Lưu tạm Story B (local)</button>
  <button id="btnExportB">Export JSON B</button>

  <hr>

  <label>Character</label>
  <select id="fCharacter"></select>

  <label>Expression</label>
  <select id="fExpression"></select>

  <label>State</label>
  <select id="fState"></select>

  <label>Outfit</label>
  <select id="fOutfit"></select>

  <label>Action</label>
  <select id="fAction"></select>

  <label>Background</label>
  <select id="fBackground"></select>

  <label>Camera</label>
  <select id="fCamera"></select>

  <label>Style</label>
  <select id="fStyle"></select>

  <button id="btnPrevFrame">← Frame trước</button>
  <button id="btnNextFrame">Frame sau →</button>

  <pre id="previewFrame"></pre>
</div>

<script src="/video/tab1.js"></script>
<script src="/video/tab2.js"></script>

<script>
  // TAB SWITCH – KHÔNG ĐỤNG JS TAB
  btnTab1.onclick = () => {
    tab1.classList.add("active");
    tab2.classList.remove("active");
  };
  btnTab2.onclick = () => {
    tab2.classList.add("active");
    tab1.classList.remove("active");
  };
</script>

</body>
</html>
